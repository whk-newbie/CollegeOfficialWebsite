{"remainingRequest":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\babel-loader\\lib\\index.js!D:\\CollegeOfficialWebsite\\pre\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\CollegeOfficialWebsite\\pre\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\CollegeOfficialWebsite\\pre\\src\\components\\list.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\CollegeOfficialWebsite\\pre\\src\\components\\list.vue","mtime":1651839190950},{"path":"D:\\CollegeOfficialWebsite\\pre\\babel.config.js","mtime":1642309079384},{"path":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642308227120},{"path":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\babel-loader\\lib\\index.js","mtime":1642308229470},{"path":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642308227120},{"path":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1642308229846}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGZvcm1hdHRlZF90aW1lIGZyb20gIkAvY29tcG9zYWJsZXMvZm9ybWF0dGVkX3RpbWUiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImxpc3QiLAogIHByb3BzOiB7CiAgICB1cmw6IFN0cmluZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3RzOiBbXSwKICAgICAgdG90YWxQYWdlczogMCwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZvcm1hdHRlZF90aW1lOiBmb3JtYXR0ZWRfdGltZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgdGhpcy5nZXREYXRhKCk7CiAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcy5nZXQodGhpcy51cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMubGlzdHMgPSByZXNwb25zZS5kYXRhLnJlc3VsdHM7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm5leHQgIT09IG51bGwpIHsKICAgICAgICAgIF90aGlzLmdldERhdGEocmVzcG9uc2UuZGF0YS5uZXh0LmNoYXJBdChyZXNwb25zZS5kYXRhLm5leHQubGVuZ3RoIC0gMSkpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgfSwKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEobnVtYmVyKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KHRoaXMudXJsLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwYWdlOiBudW1iZXIKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgX3RoaXMyLnRvdGFsUGFnZXMgPSByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgIF90aGlzMi5saXN0cyA9IF90aGlzMi5saXN0cy5jb25jYXQocmVzcG9uc2UuZGF0YS5yZXN1bHRzKTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubmV4dCAhPT0gbnVsbCkgewogICAgICAgICAgX3RoaXMyLmdldERhdGEocmVzcG9uc2UuZGF0YS5uZXh0LmNoYXJBdChyZXNwb25zZS5kYXRhLm5leHQubGVuZ3RoIC0gMSkpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgLy8gY29uc29sZS5sb2coYOavj+mhtSAke3ZhbH0g5p2hYCk7CiAgICAgIHRoaXMucGFnZVNpemUgPSB2YWw7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgLy8gY29uc29sZS5sb2coYOW9k+WJjemhtTogJHt2YWx9YCk7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB2YWw7CiAgICB9LAogICAgY2hhbmdldG9kZXRhaWw6IGZ1bmN0aW9uIGNoYW5nZXRvZGV0YWlsKHJvdykgewogICAgICBjb25zb2xlLmxvZyhyb3cpOwogICAgICB2YXIgbG9hY3QgPSB0aGlzLnVybDsKICAgICAgY29uc29sZS5sb2cobG9hY3QpOyAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ1Rtb3JhbGl0eURldGFpbCcsIHBhcmFtczoge2lkOiByb3cuaWR9fSkKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\CollegeOfficialWebsite\\pre\\src\\components\\list.vue"],"names":[],"mappings":";AAuBA,OAAO,cAAP,MAA2B,8BAA3B;AACA,OAAO,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,KAAK,EAAE;AAAC,IAAA,GAAG,EAAE;AAAN,GAFM;AAGb,EAAA,IAHa,kBAGN;AACL,WAAO;AACL,MAAA,KAAK,EAAE,EADF;AAEL,MAAA,UAAU,EAAE,CAFP;AAGL,MAAA,QAAQ,EAAE,EAHL;AAIL,MAAA,WAAW,EAAE,CAJR;AAKL,MAAA,OAAO,EAAE,KALJ;AAML,MAAA,cAAa,EAAb;AANK,KAAP;AAQD,GAZY;AAab,EAAA,OAba,qBAaH;AACR,SAAK,OAAL,GAAe,IAAf;AACA,SAAK,OAAL;AACA,SAAK,OAAL,GAAe,KAAf;AACD,GAjBY;AAkBb,EAAA,OAAO,EAAE;AACP,IAAA,OADO,qBACG;AAAA;;AACR,MAAA,KAAI,CACC,GADL,CACS,KAAK,GADd,EAEK,IAFL,CAEU,UAAA,QAAO,EAAK;AAChB,QAAA,KAAI,CAAC,KAAL,GAAa,QAAQ,CAAC,IAAT,CAAc,OAA3B;;AACA,YAAI,QAAQ,CAAC,IAAT,CAAc,IAAd,KAAuB,IAA3B,EAAiC;AAC/B,UAAA,KAAI,CAAC,OAAL,CAAa,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,MAAnB,CAA0B,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,MAAnB,GAA4B,CAAtD,CAAb;AACF;AAED,OARL;AASA,WAAK,OAAL,GAAe,KAAf;AACD,KAZM;AAaP,IAAA,OAbO,mBAaC,MAbD,EAaS;AAAA;;AACd,MAAA,KAAK,CAAC,GAAN,CAAU,KAAK,GAAf,EAAoB;AAAC,QAAA,MAAM,EAAE;AAAC,UAAA,IAAI,EAAE;AAAP;AAAT,OAApB,EACK,IADL,CAEQ,UAAA,QAAO,EAAK;AACV;AACA,QAAA,MAAI,CAAC,UAAL,GAAkB,QAAQ,CAAC,IAAT,CAAc,KAAhC;AACA,QAAA,MAAI,CAAC,KAAL,GAAa,MAAI,CAAC,KAAL,CAAW,MAAX,CAAkB,QAAQ,CAAC,IAAT,CAAc,OAAhC,CAAb;;AACA,YAAI,QAAQ,CAAC,IAAT,CAAc,IAAd,KAAuB,IAA3B,EAAiC;AAC/B,UAAA,MAAI,CAAC,OAAL,CAAa,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,MAAnB,CAA0B,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,MAAnB,GAA4B,CAAtD,CAAb;AACF;AAEF,OAVR;AAYD,KA1BM;AA2BP,IAAA,gBA3BO,4BA2BU,GA3BV,EA2Be;AACpB;AACA,WAAK,QAAL,GAAgB,GAAhB;AACD,KA9BM;AA+BP,IAAA,mBA/BO,+BA+Ba,GA/Bb,EA+BkB;AACvB;AACA,WAAK,WAAL,GAAmB,GAAnB;AACD,KAlCM;AAmCP,IAAA,cAnCO,0BAmCQ,GAnCR,EAmCa;AAClB,MAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACA,UAAM,KAAI,GAAI,KAAK,GAAnB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,KAAZ,EAHkB,CAIlB;AACD;AAxCM;AAlBI,CAAf","sourcesContent":["<template>\r\n  <div class=\"news-list\">\r\n    <el-table :data=\"lists.slice((currentPage-1)*pageSize,currentPage*pageSize)\" style=\"width: 100%\"\r\n              @cell-click=\"changetodetail\" v-loading=\"loading\">\r\n      <el-table-column prop=\"title\"  width=\"600px\"/>\r\n      <el-table-column prop=\"create_time\"  width=\"300px\" :formatter=\"formatted_time\"/>\r\n    </el-table>\r\n  </div>\r\n  <div class=\"paginationbox\">\r\n    <el-pagination\r\n        v-model:currentPage=\"currentPage\"\r\n        :page-sizes=\"[10, 20, 30, 40]\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total, prev, pager, next, jumper\"\r\n        :total=\"totalPages\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n    >\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport formatted_time from \"@/composables/formatted_time\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"list\",\r\n  props: {url: String},\r\n  data() {\r\n    return {\r\n      lists: [],\r\n      totalPages: 0,\r\n      pageSize: 10,\r\n      currentPage: 1,\r\n      loading: false,\r\n      formatted_time\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loading = true;\r\n    this.getData();\r\n    this.loading = false;\r\n  },\r\n  methods: {\r\n    getList() {\r\n      axios\r\n          .get(this.url)\r\n          .then(response => {\r\n            this.lists = response.data.results;\r\n            if (response.data.next !== null) {\r\n              this.getData(response.data.next.charAt(response.data.next.length - 1))\r\n            }\r\n\r\n          })\r\n      this.loading = false;\r\n    },\r\n    getData(number) {\r\n      axios.get(this.url, {params: {page: number}})\r\n          .then(\r\n              response => {\r\n                // console.log(response.data);\r\n                this.totalPages = response.data.count;\r\n                this.lists = this.lists.concat(response.data.results)\r\n                if (response.data.next !== null) {\r\n                  this.getData(response.data.next.charAt(response.data.next.length - 1))\r\n                }\r\n\r\n              }\r\n          )\r\n    },\r\n    handleSizeChange(val) {\r\n      // console.log(`每页 ${val} 条`);\r\n      this.pageSize = val;\r\n    },\r\n    handleCurrentChange(val) {\r\n      // console.log(`当前页: ${val}`);\r\n      this.currentPage = val;\r\n    },\r\n    changetodetail(row) {\r\n      console.log(row)\r\n      const loact = this.url\r\n      console.log(loact)\r\n      // this.$router.push({name: 'TmoralityDetail', params: {id: row.id}})\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import \"~@/styles/body.css\";\r\n</style>\r\n"],"sourceRoot":""}]}