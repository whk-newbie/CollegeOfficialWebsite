{"remainingRequest":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\babel-loader\\lib\\index.js!D:\\CollegeOfficialWebsite\\pre\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\CollegeOfficialWebsite\\pre\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\CollegeOfficialWebsite\\pre\\src\\components\\list.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\CollegeOfficialWebsite\\pre\\src\\components\\list.vue","mtime":1652179416042},{"path":"D:\\CollegeOfficialWebsite\\pre\\babel.config.js","mtime":1642309079384},{"path":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642308227120},{"path":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\babel-loader\\lib\\index.js","mtime":1642308229470},{"path":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642308227120},{"path":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1642308229846}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgZm9ybWF0dGVkX3RpbWUgZnJvbSAiQC9jb21wb3NhYmxlcy9mb3JtYXR0ZWRfdGltZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibGlzdCIsCiAgcHJvcHM6IHsKICAgIHVybDogU3RyaW5nCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdHM6IFtdLAogICAgICB0b3RhbFBhZ2VzOiAwLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZm9ybWF0dGVkX3RpbWU6IGZvcm1hdHRlZF90aW1lCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICB0aGlzLmdldERhdGEoKTsKICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCh0aGlzLnVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5saXN0cyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0czsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubmV4dCAhPT0gbnVsbCkgewogICAgICAgICAgX3RoaXMuZ2V0RGF0YShyZXNwb25zZS5kYXRhLm5leHQuY2hhckF0KHJlc3BvbnNlLmRhdGEubmV4dC5sZW5ndGggLSAxKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9LAogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YShudW1iZXIpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBheGlvcy5nZXQodGhpcy51cmwsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHBhZ2U6IG51bWJlcgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICBfdGhpczIudG90YWxQYWdlcyA9IHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgX3RoaXMyLmxpc3RzID0gX3RoaXMyLmxpc3RzLmNvbmNhdChyZXNwb25zZS5kYXRhLnJlc3VsdHMpOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5uZXh0ICE9PSBudWxsKSB7CiAgICAgICAgICBfdGhpczIuZ2V0RGF0YShyZXNwb25zZS5kYXRhLm5leHQuY2hhckF0KHJlc3BvbnNlLmRhdGEubmV4dC5sZW5ndGggLSAxKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICAvLyBjb25zb2xlLmxvZyhg5q+P6aG1ICR7dmFsfSDmnaFgKTsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICAvLyBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKTsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHZhbDsKICAgIH0sCiAgICBjaGFuZ2V0b2RldGFpbDogZnVuY3Rpb24gY2hhbmdldG9kZXRhaWwocm93KSB7CiAgICAgIHZhciBsb2NhdCA9IHRoaXMudXJsLnNwbGl0KCcvJyk7CiAgICAgIGNvbnNvbGUubG9nKGxvY2F0KTsKICAgICAgdmFyIG5hbWVzID0gbG9jYXRbbG9jYXQubGVuZ3RoIC0gMV0gKyAnRGV0YWlsJzsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6IG5hbWVzLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IHJvdy5pZAogICAgICAgIH0KICAgICAgfSk7IC8vIGlmIChsb2NhdC5sZW5ndGggPT09IDQgJiYgbG9jYXRbMl09PT0nbmV3cycpCiAgICAgIC8vIHsKICAgICAgLy8gICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ25ld3NEZXRhaWwnLCBwYXJhbXM6IHtpZDogcm93LmlkfX0pCiAgICAgIC8vIH0KICAgICAgLy8gaWYgKGxvY2F0Lmxlbmd0aCA9PT0gMyAmJiBsb2NhdFsyXT09PSdpbmZvcycpCiAgICAgIC8vIHsKICAgICAgLy8gICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ2luZm9zRGV0YWlsJywgcGFyYW1zOiB7aWQ6IHJvdy5pZH19KQogICAgICAvLyB9CiAgICAgIC8vIGlmIChsb2NhdC5sZW5ndGggPT09IDQgJiYgbG9jYXRbM109PT0nVG1vcmFsaXR5JykKICAgICAgLy8gewogICAgICAvLyAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAnVG1vcmFsaXR5RGV0YWlsJywgcGFyYW1zOiB7aWQ6IHJvdy5pZH19KQogICAgICAvLyB9CiAgICAgIC8vIGlmIChsb2NhdC5sZW5ndGggPT09IDQgJiYgbG9jYXRbM109PT0ncmVzZWFyY2gnKXsKICAgICAgLy8gICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZToncmVzZWFyY2hEZXRhaWwnLHBhcmFtczoge2lkOiByb3cuaWR9fSkKICAgICAgLy8gfQogICAgICAvLyBpZiAobG9jYXQubGVuZ3RoPT09NCAmJiBsb2NhdFszXT09PSdpbnN0aXR1dGlvbnMnKXsKICAgICAgLy8gICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTonaW5zdGl0dXRpb25EZXRhaWwnLHBhcmFtczoge2lkOiByb3cuaWR9fSkKICAgICAgLy8gfQogICAgICAvLyBpZiAobG9jYXQubGVuZ3RoPT09NCAmJiBsb2NhdFszXT09PSdhY2hpZXZlbWVudHMnKXsKICAgICAgLy8gICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTonYWNoaWV2ZW1lbnRzRGV0YWlsJyxwYXJhbXM6IHtpZDogcm93LmlkfX0pCiAgICAgIC8vIH0KICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICdUbW9yYWxpdHlEZXRhaWwnLCBwYXJhbXM6IHtpZDogcm93LmlkfX0pCiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["D:\\CollegeOfficialWebsite\\pre\\src\\components\\list.vue"],"names":[],"mappings":";;;AAuBA,OAAO,cAAP,MAA2B,8BAA3B;AACA,OAAO,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,KAAK,EAAE;AAAC,IAAA,GAAG,EAAE;AAAN,GAFM;AAGb,EAAA,IAHa,kBAGN;AACL,WAAO;AACL,MAAA,KAAK,EAAE,EADF;AAEL,MAAA,UAAU,EAAE,CAFP;AAGL,MAAA,QAAQ,EAAE,EAHL;AAIL,MAAA,WAAW,EAAE,CAJR;AAKL,MAAA,OAAO,EAAE,KALJ;AAML,MAAA,cAAa,EAAb;AANK,KAAP;AAQD,GAZY;AAab,EAAA,OAba,qBAaH;AACR,SAAK,OAAL,GAAe,IAAf;AACA,SAAK,OAAL;AACA,SAAK,OAAL,GAAe,KAAf;AACD,GAjBY;AAkBb,EAAA,OAAO,EAAE;AACP,IAAA,OADO,qBACG;AAAA;;AACR,MAAA,KAAI,CACC,GADL,CACS,KAAK,GADd,EAEK,IAFL,CAEU,UAAA,QAAO,EAAK;AAChB,QAAA,KAAI,CAAC,KAAL,GAAa,QAAQ,CAAC,IAAT,CAAc,OAA3B;;AACA,YAAI,QAAQ,CAAC,IAAT,CAAc,IAAd,KAAuB,IAA3B,EAAiC;AAC/B,UAAA,KAAI,CAAC,OAAL,CAAa,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,MAAnB,CAA0B,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,MAAnB,GAA4B,CAAtD,CAAb;AACF;AAED,OARL;AASA,WAAK,OAAL,GAAe,KAAf;AACD,KAZM;AAaP,IAAA,OAbO,mBAaC,MAbD,EAaS;AAAA;;AACd,MAAA,KAAK,CAAC,GAAN,CAAU,KAAK,GAAf,EAAoB;AAAC,QAAA,MAAM,EAAE;AAAC,UAAA,IAAI,EAAE;AAAP;AAAT,OAApB,EACK,IADL,CAEQ,UAAA,QAAO,EAAK;AACV;AACA,QAAA,MAAI,CAAC,UAAL,GAAkB,QAAQ,CAAC,IAAT,CAAc,KAAhC;AACA,QAAA,MAAI,CAAC,KAAL,GAAa,MAAI,CAAC,KAAL,CAAW,MAAX,CAAkB,QAAQ,CAAC,IAAT,CAAc,OAAhC,CAAb;;AACA,YAAI,QAAQ,CAAC,IAAT,CAAc,IAAd,KAAuB,IAA3B,EAAiC;AAC/B,UAAA,MAAI,CAAC,OAAL,CAAa,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,MAAnB,CAA0B,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,MAAnB,GAA4B,CAAtD,CAAb;AACF;AAEF,OAVR;AAYD,KA1BM;AA2BP,IAAA,gBA3BO,4BA2BU,GA3BV,EA2Be;AACpB;AACA,WAAK,QAAL,GAAgB,GAAhB;AACD,KA9BM;AA+BP,IAAA,mBA/BO,+BA+Ba,GA/Bb,EA+BkB;AACvB;AACA,WAAK,WAAL,GAAmB,GAAnB;AACD,KAlCM;AAmCP,IAAA,cAnCO,0BAmCQ,GAnCR,EAmCa;AAClB,UAAM,KAAI,GAAI,KAAK,GAAL,CAAS,KAAT,CAAe,GAAf,CAAd;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,UAAM,KAAI,GAAI,KAAK,CAAC,KAAK,CAAC,MAAN,GAAa,CAAd,CAAL,GAAsB,QAApC;AACA,WAAK,OAAL,CAAa,IAAb,CAAkB;AAAC,QAAA,IAAI,EAAE,KAAP;AAAa,QAAA,MAAM,EAAE;AAAC,UAAA,EAAE,EAAE,GAAG,CAAC;AAAT;AAArB,OAAlB,EAJkB,CAKlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACD;AA/DM;AAlBI,CAAf","sourcesContent":["<template>\r\n  <div class=\"news-list\">\r\n    <el-table :data=\"lists.slice((currentPage-1)*pageSize,currentPage*pageSize)\" style=\"width: 100%\"\r\n              @cell-click=\"changetodetail\" v-loading=\"loading\">\r\n      <el-table-column prop=\"title\"  width=\"600px\"/>\r\n      <el-table-column prop=\"create_time\"  width=\"300px\" :formatter=\"formatted_time\"/>\r\n    </el-table>\r\n  </div>\r\n  <div class=\"paginationbox\">\r\n    <el-pagination\r\n        v-model:currentPage=\"currentPage\"\r\n        :page-sizes=\"[10, 20, 30, 40]\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total, prev, pager, next, jumper\"\r\n        :total=\"totalPages\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n    >\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport formatted_time from \"@/composables/formatted_time\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"list\",\r\n  props: {url: String},\r\n  data() {\r\n    return {\r\n      lists: [],\r\n      totalPages: 0,\r\n      pageSize: 10,\r\n      currentPage: 1,\r\n      loading: false,\r\n      formatted_time\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loading = true;\r\n    this.getData();\r\n    this.loading = false;\r\n  },\r\n  methods: {\r\n    getList() {\r\n      axios\r\n          .get(this.url)\r\n          .then(response => {\r\n            this.lists = response.data.results;\r\n            if (response.data.next !== null) {\r\n              this.getData(response.data.next.charAt(response.data.next.length - 1))\r\n            }\r\n\r\n          })\r\n      this.loading = false;\r\n    },\r\n    getData(number) {\r\n      axios.get(this.url, {params: {page: number}})\r\n          .then(\r\n              response => {\r\n                // console.log(response.data);\r\n                this.totalPages = response.data.count;\r\n                this.lists = this.lists.concat(response.data.results)\r\n                if (response.data.next !== null) {\r\n                  this.getData(response.data.next.charAt(response.data.next.length - 1))\r\n                }\r\n\r\n              }\r\n          )\r\n    },\r\n    handleSizeChange(val) {\r\n      // console.log(`每页 ${val} 条`);\r\n      this.pageSize = val;\r\n    },\r\n    handleCurrentChange(val) {\r\n      // console.log(`当前页: ${val}`);\r\n      this.currentPage = val;\r\n    },\r\n    changetodetail(row) {\r\n      const locat = this.url.split('/')\r\n      console.log(locat)\r\n      const names = locat[locat.length-1]+'Detail'\r\n      this.$router.push({name: names,params: {id: row.id}})\r\n      // if (locat.length === 4 && locat[2]==='news')\r\n      // {\r\n      //   this.$router.push({name: 'newsDetail', params: {id: row.id}})\r\n      // }\r\n      // if (locat.length === 3 && locat[2]==='infos')\r\n      // {\r\n      //   this.$router.push({name: 'infosDetail', params: {id: row.id}})\r\n      // }\r\n      // if (locat.length === 4 && locat[3]==='Tmorality')\r\n      // {\r\n      //   this.$router.push({name: 'TmoralityDetail', params: {id: row.id}})\r\n      // }\r\n      // if (locat.length === 4 && locat[3]==='research'){\r\n      //   this.$router.push({name:'researchDetail',params: {id: row.id}})\r\n      // }\r\n      // if (locat.length===4 && locat[3]==='institutions'){\r\n      //   this.$router.push({name:'institutionDetail',params: {id: row.id}})\r\n      // }\r\n      // if (locat.length===4 && locat[3]==='achievements'){\r\n      //   this.$router.push({name:'achievementsDetail',params: {id: row.id}})\r\n      // }\r\n\r\n      // this.$router.push({name: 'TmoralityDetail', params: {id: row.id}})\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import \"~@/styles/body.css\";\r\n</style>\r\n"],"sourceRoot":""}]}