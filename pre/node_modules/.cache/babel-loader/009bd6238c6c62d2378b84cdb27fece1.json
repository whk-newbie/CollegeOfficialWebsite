{"remainingRequest":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\babel-loader\\lib\\index.js!D:\\CollegeOfficialWebsite\\pre\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\CollegeOfficialWebsite\\pre\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\CollegeOfficialWebsite\\pre\\src\\components\\list.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\CollegeOfficialWebsite\\pre\\src\\components\\list.vue","mtime":1652085949268},{"path":"D:\\CollegeOfficialWebsite\\pre\\babel.config.js","mtime":1642309079384},{"path":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642308227120},{"path":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\babel-loader\\lib\\index.js","mtime":1642308229470},{"path":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642308227120},{"path":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1642308229846}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgZm9ybWF0dGVkX3RpbWUgZnJvbSAiQC9jb21wb3NhYmxlcy9mb3JtYXR0ZWRfdGltZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibGlzdCIsCiAgcHJvcHM6IHsKICAgIHVybDogU3RyaW5nCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdHM6IFtdLAogICAgICB0b3RhbFBhZ2VzOiAwLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZm9ybWF0dGVkX3RpbWU6IGZvcm1hdHRlZF90aW1lCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICB0aGlzLmdldERhdGEoKTsKICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCh0aGlzLnVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5saXN0cyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0czsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubmV4dCAhPT0gbnVsbCkgewogICAgICAgICAgX3RoaXMuZ2V0RGF0YShyZXNwb25zZS5kYXRhLm5leHQuY2hhckF0KHJlc3BvbnNlLmRhdGEubmV4dC5sZW5ndGggLSAxKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9LAogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YShudW1iZXIpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBheGlvcy5nZXQodGhpcy51cmwsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHBhZ2U6IG51bWJlcgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICBfdGhpczIudG90YWxQYWdlcyA9IHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgX3RoaXMyLmxpc3RzID0gX3RoaXMyLmxpc3RzLmNvbmNhdChyZXNwb25zZS5kYXRhLnJlc3VsdHMpOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5uZXh0ICE9PSBudWxsKSB7CiAgICAgICAgICBfdGhpczIuZ2V0RGF0YShyZXNwb25zZS5kYXRhLm5leHQuY2hhckF0KHJlc3BvbnNlLmRhdGEubmV4dC5sZW5ndGggLSAxKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICAvLyBjb25zb2xlLmxvZyhg5q+P6aG1ICR7dmFsfSDmnaFgKTsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICAvLyBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKTsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHZhbDsKICAgIH0sCiAgICBjaGFuZ2V0b2RldGFpbDogZnVuY3Rpb24gY2hhbmdldG9kZXRhaWwocm93KSB7CiAgICAgIHZhciBsb2FjdCA9IHRoaXMudXJsLnNwbGl0KCcvJyk7CiAgICAgIGNvbnNvbGUubG9nKGxvYWN0KTsKCiAgICAgIGlmIChsb2FjdC5sZW5ndGggPT09IDQgJiYgbG9hY3RbMl0gPT09ICduZXdzJykgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICduZXdzRGV0YWlsJywKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBpZDogcm93LmlkCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmIChsb2FjdC5sZW5ndGggPT09IDMgJiYgbG9hY3RbMl0gPT09ICdpbmZvcycpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnaW5mb3NEZXRhaWwnLAogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGlkOiByb3cuaWQKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKGxvYWN0Lmxlbmd0aCA9PT0gNCAmJiBsb2FjdFszXSA9PT0gJ1Rtb3JhbGl0eScpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnVG1vcmFsaXR5RGV0YWlsJywKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBpZDogcm93LmlkCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gLy8gdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICdUbW9yYWxpdHlEZXRhaWwnLCBwYXJhbXM6IHtpZDogcm93LmlkfX0pCgogICAgfQogIH0KfTs="},{"version":3,"sources":["D:\\CollegeOfficialWebsite\\pre\\src\\components\\list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"news-list\">\r\n    <el-table :data=\"lists.slice((currentPage-1)*pageSize,currentPage*pageSize)\" style=\"width: 100%\"\r\n              @cell-click=\"changetodetail\" v-loading=\"loading\">\r\n      <el-table-column prop=\"title\"  width=\"600px\"/>\r\n      <el-table-column prop=\"create_time\"  width=\"300px\" :formatter=\"formatted_time\"/>\r\n    </el-table>\r\n  </div>\r\n  <div class=\"paginationbox\">\r\n    <el-pagination\r\n        v-model:currentPage=\"currentPage\"\r\n        :page-sizes=\"[10, 20, 30, 40]\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total, prev, pager, next, jumper\"\r\n        :total=\"totalPages\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n    >\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport formatted_time from \"@/composables/formatted_time\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"list\",\r\n  props: {url: String},\r\n  data() {\r\n    return {\r\n      lists: [],\r\n      totalPages: 0,\r\n      pageSize: 10,\r\n      currentPage: 1,\r\n      loading: false,\r\n      formatted_time\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loading = true;\r\n    this.getData();\r\n    this.loading = false;\r\n  },\r\n  methods: {\r\n    getList() {\r\n      axios\r\n          .get(this.url)\r\n          .then(response => {\r\n            this.lists = response.data.results;\r\n            if (response.data.next !== null) {\r\n              this.getData(response.data.next.charAt(response.data.next.length - 1))\r\n            }\r\n\r\n          })\r\n      this.loading = false;\r\n    },\r\n    getData(number) {\r\n      axios.get(this.url, {params: {page: number}})\r\n          .then(\r\n              response => {\r\n                // console.log(response.data);\r\n                this.totalPages = response.data.count;\r\n                this.lists = this.lists.concat(response.data.results)\r\n                if (response.data.next !== null) {\r\n                  this.getData(response.data.next.charAt(response.data.next.length - 1))\r\n                }\r\n\r\n              }\r\n          )\r\n    },\r\n    handleSizeChange(val) {\r\n      // console.log(`每页 ${val} 条`);\r\n      this.pageSize = val;\r\n    },\r\n    handleCurrentChange(val) {\r\n      // console.log(`当前页: ${val}`);\r\n      this.currentPage = val;\r\n    },\r\n    changetodetail(row) {\r\n      const loact = this.url.split('/')\r\n      console.log(loact)\r\n      if (loact.length === 4 && loact[2]==='news')\r\n      {\r\n        this.$router.push({name: 'newsDetail', params: {id: row.id}})\r\n      }\r\n      if (loact.length === 3 && loact[2]==='infos')\r\n      {\r\n        this.$router.push({name: 'infosDetail', params: {id: row.id}})\r\n      }\r\n      if (loact.length === 4 && loact[3]==='Tmorality')\r\n      {\r\n        this.$router.push({name: 'TmoralityDetail', params: {id: row.id}})\r\n      }\r\n\r\n      // this.$router.push({name: 'TmoralityDetail', params: {id: row.id}})\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import \"~@/styles/body.css\";\r\n</style>\r\n"],"sourceRoot":""}]}