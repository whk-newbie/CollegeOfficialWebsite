{"remainingRequest":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\babel-loader\\lib\\index.js!D:\\CollegeOfficialWebsite\\pre\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\CollegeOfficialWebsite\\pre\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\CollegeOfficialWebsite\\pre\\src\\views\\research\\research.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\CollegeOfficialWebsite\\pre\\src\\views\\research\\research.vue","mtime":1651733773766},{"path":"D:\\CollegeOfficialWebsite\\pre\\babel.config.js","mtime":1642309079384},{"path":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642308227120},{"path":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\babel-loader\\lib\\index.js","mtime":1642308229470},{"path":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642308227120},{"path":"D:\\CollegeOfficialWebsite\\pre\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1642308229846}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgSGVhZGVyIGZyb20gJ0AvY29tcG9uZW50cy9IZWFkZXInOwppbXBvcnQgRm9vdGVyIGZyb20gJ0AvY29tcG9uZW50cy9Gb290ZXInOwppbXBvcnQgZm9ybWF0dGVkX3RpbWUgZnJvbSAnQC9jb21wb3NhYmxlcy9mb3JtYXR0ZWRfdGltZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAicmVzZWFyY2giLAogIGNvbXBvbmVudHM6IHsKICAgIEhlYWRlcjogSGVhZGVyLAogICAgRm9vdGVyOiBGb290ZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbmV3c0xpc3Q6IFtdLAogICAgICB0b3RhbFBhZ2VzOiAwLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICB3aGVyZTogIuenkeeglOWKqOaAgSIsCiAgICAgIGZvcm1hdHRlZF90aW1lOiBmb3JtYXR0ZWRfdGltZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmNoYW5nZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCh1cmwpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMudG90YWxQYWdlcyA9IHJlc3BvbnNlLmRhdGEuY291bnQsIF90aGlzLmluZm9yc0xpc3QgPSByZXNwb25zZS5kYXRhLnJlc3VsdHM7IC8vIGNvbnNvbGUubG9nKHRoaXMubmV3c0xpc3QpCgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm5leHQgIT09IG51bGwpIHsKICAgICAgICAgIF90aGlzLmdldERhdGEocmVzcG9uc2UuZGF0YS5uZXh0LmNoYXJBdChyZXNwb25zZS5kYXRhLm5leHQubGVuZ3RoIC0gMSksIHVybCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9LAogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YShudW1iZXIsIHVybCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCh1cmwsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHBhZ2U6IG51bWJlcgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuaW5mb3JzTGlzdCA9IF90aGlzMi5pbmZvcnNMaXN0LmNvbmNhdChyZXNwb25zZS5kYXRhLnJlc3VsdHMpOyAvLyBjb25zb2xlLmxvZyh0aGlzLm5ld3NMaXN0KQoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5uZXh0ICE9PSBudWxsKSB7CiAgICAgICAgICBfdGhpczIuZ2V0RGF0YShyZXNwb25zZS5kYXRhLm5leHQuY2hhckF0KHJlc3BvbnNlLmRhdGEubmV4dC5sZW5ndGggLSAxKSwgdXJsKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGDmr4/pobUgJHt2YWx9IOadoWApOwogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGDlvZPliY3pobU6ICR7dmFsfWApOwogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsOwogICAgfSwKICAgIGNoYW5nZXRvZGV0YWlsOiBmdW5jdGlvbiBjaGFuZ2V0b2RldGFpbChyb3cpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdOZXdzRGV0YWlsJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiByb3cuaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKCkgewogICAgICB2YXIgcGF0aHMgPSB0aGlzLiRyb3V0ZS5mdWxsUGF0aC5zcGxpdCgnLycpWzJdOwogICAgICBjb25zb2xlLmxvZyhwYXRocyk7CgogICAgICBpZiAocGF0aHMgPT09ICJyZXNlYXJjaCIpIHsKICAgICAgICB0aGlzLmdldExpc3QoJy9hcGkvcmVzZWFyY2gvcmVzZWFyY2gnKTsKICAgICAgfQoKICAgICAgaWYgKHBhdGhzID09PSAiaW5zdGl0dXRpb25zIikgewogICAgICAgIHRoaXMuZ2V0TGlzdCgnL2FwaS9yZXNlYXJjaC9pbnN0aXR1dGlvbnMnKTsKICAgICAgICB0aGlzLndoZXJlID0gIuenkeeglOacuuaehCI7CiAgICAgIH0KCiAgICAgIGlmIChwYXRocyA9PT0gImFjaGlldmVtZW50IikgewogICAgICAgIHRoaXMuZ2V0TGlzdCgnL2FwaS9yZXNlYXJjaC9hY2hpZXZlbWVudHMnKTsKICAgICAgICB0aGlzLndoZXJlID0gIuenkeeglOaIkOaenCI7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\CollegeOfficialWebsite\\pre\\src\\views\\research\\research.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <Header/>\r\n  <div class=\"container\">\r\n    <el-container>\r\n      <el-aside width=\"20%\">\r\n        <el-col>\r\n          <el-row>\r\n            <el-button type=\"info\" @click=\"$router.push('/research/research')\">科研动态</el-button>\r\n          </el-row>\r\n          <el-row>\r\n            <el-button type=\"info\" @click=\"$router.push('/research/institutions')\">科研机构</el-button>\r\n          </el-row>\r\n          <el-row>\r\n            <el-button type=\"info\" @click=\"$router.push('/research/achievement')\">科研成果</el-button>\r\n          </el-row>\r\n        </el-col>\r\n      </el-aside>\r\n      <el-container>\r\n        <el-breadcrumb separator=\"/\">\r\n          <el-breadcrumb-item>当前位置:</el-breadcrumb-item>\r\n          <el-breadcrumb-item :to=\"{ path: '/' }\">主页</el-breadcrumb-item>\r\n          <el-breadcrumb-item>科学研究</el-breadcrumb-item>\r\n          <el-breadcrumb-item>{{ where }}</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n        <el-header><p>{{ where }}</p></el-header>\r\n        <el-main>\r\n\r\n          <div class=\"news-list\">\r\n            <el-table :data=\"newsList.slice((currentPage-1)*pageSize,currentPage*pageSize)\" style=\"width: 100%\"\r\n                      @cell-click=\"changetodetail\" v-loading=\"loading\">\r\n              <el-table-column prop=\"title\" label=\"标题\" width=\"600px\"/>\r\n              <el-table-column prop=\"create_time\" label=\"时间\" width=\"300px\" :formatter=\"formatted_time\"/>\r\n            </el-table>\r\n          </div>\r\n          <div class=\"paginationbox\">\r\n            <el-pagination\r\n                v-model:currentPage=\"currentPage\"\r\n                :page-sizes=\"[10, 20, 30, 40]\"\r\n                :page-size=\"pageSize\"\r\n                layout=\"total, prev, pager, next, jumper\"\r\n                :total=\"totalPages\"\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n            >\r\n            </el-pagination>\r\n          </div>\r\n        </el-main>\r\n      </el-container>\r\n    </el-container>\r\n\r\n  </div>\r\n  <Footer/>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport Header from '@/components/Header'\r\nimport Footer from '@/components/Footer'\r\nimport formatted_time from '@/composables/formatted_time';\r\n\r\nexport default {\r\n  name: \"research\",\r\n  components: {Header, Footer},\r\n  data: function () {\r\n    return {\r\n      loading: false,\r\n      newsList: [],\r\n      totalPages: 0,\r\n      pageSize: 10,\r\n      currentPage: 1,\r\n      where: \"科研动态\",\r\n      formatted_time\r\n    }\r\n  },\r\n  created() {\r\n    this.change()\r\n  },\r\n  methods: {\r\n    getList(url) {\r\n      axios\r\n          .get(url)\r\n          .then(response => {\r\n            (this.totalPages = response.data.count),\r\n                (this.inforsList = response.data.results)\r\n            // console.log(this.newsList)\r\n            if (response.data.next !== null) {\r\n              this.getData(response.data.next.charAt(response.data.next.length - 1), url)\r\n            }\r\n          })\r\n      this.loading = false;\r\n    },\r\n    getData(number, url) {\r\n      axios.get(url, {params: {page: number}})\r\n          .then(response => {\r\n                this.inforsList = this.inforsList.concat(response.data.results)\r\n                // console.log(this.newsList)\r\n                if (response.data.next !== null) {\r\n                  this.getData(response.data.next.charAt(response.data.next.length - 1), url)\r\n                }\r\n              }\r\n          )\r\n    },\r\n    handleSizeChange(val) {\r\n      // console.log(`每页 ${val} 条`);\r\n      this.pageSize = val;\r\n    },\r\n    handleCurrentChange(val) {\r\n      // console.log(`当前页: ${val}`);\r\n      this.currentPage = val;\r\n    },\r\n    changetodetail(row) {\r\n      this.$router.push({name: 'NewsDetail', params: {id: row.id}})\r\n    },\r\n    change() {\r\n      const paths = this.$route.fullPath.split('/')[2]\r\n      console.log(paths)\r\n      if (paths ===\"research\") {\r\n        this.getList('/api/research/research')\r\n      }\r\n      if (paths ===\"institutions\") {\r\n        this.getList('/api/research/institutions')\r\n        this.where = \"科研机构\"\r\n      }\r\n      if (paths === \"achievement\") {\r\n        this.getList( '/api/research/achievements')\r\n        this.where = \"科研成果\"\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.container {\r\n  margin: 2% 2% 2% 10%;\r\n  width: 80%;\r\n  box-shadow: 4px 4px 15px #dad9d9;\r\n}\r\n\r\n.el-main > h3 {\r\n  font-size: 22px;\r\n  font-family: 微软雅黑, serif;\r\n  margin-left: 5%;\r\n}\r\n\r\n.el-breadcrumb {\r\n  margin-top: 10px;\r\n  margin-left: 10px;\r\n  font-family: 微软雅黑, serif;\r\n}\r\n\r\n.el-aside {\r\n  background-color: #92f6ce;\r\n}\r\n\r\n\r\n.el-header {\r\n  text-align: -webkit-left;\r\n  font-size: 24px;\r\n  font-style: normal;\r\n  font-family: 仿宋_GB2312, serif;\r\n}\r\n\r\n.el-header > p {\r\n  margin-top: 15px;\r\n  margin-left: 5px;\r\n  color: gray;\r\n}\r\n\r\n.el-row {\r\n  margin-top: 10%;\r\n  margin-left: 50%;\r\n}\r\n\r\n.el-button {\r\n  margin-top: 10px;\r\n  height: 40px;\r\n  width: 120px;\r\n}\r\n\r\n.news-list {\r\n  /*width: 100%;*/\r\n  height: 500px;\r\n  position: relative;\r\n  margin-left: 5%;\r\n  margin-right: 5%;\r\n  padding: 0;\r\n}\r\n\r\n#el-table-column {\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n  width: 50%;\r\n}\r\n\r\n.paginationbox {\r\n  position: relative;\r\n  margin-left: 35%;\r\n  margin-right: 20%;\r\n}\r\n\r\n</style>\r\n"],"sourceRoot":""}]}